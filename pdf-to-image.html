<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PDF to Image Converter</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.14.305/pdf.min.js"></script>

<style>

body{
font-family:Arial, Helvetica, sans-serif;
background:linear-gradient(135deg,#4facfe,#00f2fe);
height:100vh;
display:flex;
justify-content:center;
align-items:center;
margin:0;
}

.container{
background:white;
padding:35px;
width:380px;
border-radius:15px;
box-shadow:0 10px 30px rgba(0,0,0,0.2);
text-align:center;
}

h2{
margin-bottom:20px;
color:#333;
}

input{
margin-bottom:15px;
}

select{
width:100%;
padding:10px;
border-radius:8px;
border:1px solid #ccc;
margin-bottom:15px;
}

button{
width:100%;
padding:12px;
border:none;
border-radius:8px;
background:#007bff;
color:white;
font-size:16px;
cursor:pointer;
transition:0.3s;
}

button:hover{
background:#0056b3;
}

canvas{
margin-top:20px;
max-width:100%;
border-radius:8px;
}

.download{
display:block;
margin-top:15px;
padding:10px;
background:#28a745;
color:white;
text-decoration:none;
border-radius:8px;
}

.download:hover{
background:#1e7e34;
}

</style>
</head>

<body>

<div class="container">

<h2>PDF to Image Converter</h2>

<input type="file" id="pdfFile" accept="application/pdf">

<select id="format">
<option value="image/jpeg">JPG</option>
<option value="image/jpeg">JPEG</option>
<option value="image/png">PNG</option>
</select>

<button onclick="convertPDF()">Convert PDF</button>

<canvas id="canvas"></canvas>

<a id="downloadLink" class="download" style="display:none">Download Image</a>

</div>

<script>

async function convertPDF(){

const file = document.getElementById("pdfFile").files[0];

if(!file){
alert("Please upload PDF");
return;
}

const format = document.getElementById("format").value;

const reader = new FileReader();

reader.onload = async function(){

const typedarray = new Uint8Array(this.result);

const pdf = await pdfjsLib.getDocument(typedarray).promise;

const page = await pdf.getPage(1);

const viewport = page.getViewport({scale:2});

const canvas = document.getElementById("canvas");
const context = canvas.getContext("2d");

canvas.width = viewport.width;
canvas.height = viewport.height;

await page.render({
canvasContext:context,
viewport:viewport
}).promise;

const image = canvas.toDataURL(format);

const link = document.getElementById("downloadLink");

link.href = image;
link.download = "converted-image";
link.style.display="block";

};

reader.readAsArrayBuffer(file);

}

</script>

</body>
</html>
