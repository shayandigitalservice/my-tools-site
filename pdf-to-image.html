<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>PDF to Image Converter</title>

<style>

*{
box-sizing:border-box;
font-family:Arial;
}

body{
margin:0;
height:100vh;
display:flex;
justify-content:center;
align-items:center;
background:linear-gradient(135deg,#36d1dc,#5b86e5);
}

.card{
background:white;
padding:30px;
width:90%;
max-width:420px;
border-radius:14px;
box-shadow:0 10px 30px rgba(0,0,0,0.2);
text-align:center;
}

h2{
margin-bottom:20px;
}

.upload-box{
border:2px dashed #ccc;
padding:25px;
border-radius:10px;
margin-bottom:15px;
background:#fafafa;
}

.upload-box input{
margin-top:10px;
}

select{
width:100%;
padding:10px;
margin:15px 0;
border-radius:6px;
border:1px solid #ccc;
}

button{
width:100%;
padding:12px;
border:none;
border-radius:8px;
background:#2f6edb;
color:white;
font-size:16px;
cursor:pointer;
}

button:hover{
background:#214fb3;
}

.preview{
margin-top:20px;
}

.preview img{
width:100%;
margin-top:10px;
border-radius:6px;
}

</style>
</head>

<body>

<div class="card">

<h2>ðŸ“„ PDF to Image Converter</h2>

<div class="upload-box">
Drag & Drop PDF Here
<br><br>
<input type="file" id="pdfFile" accept="application/pdf">
</div>

<select id="format">
<option value="jpeg">JPG</option>
<option value="png">PNG</option>
</select>

<button onclick="convertPDF()">Convert PDF</button>

<div class="preview" id="preview"></div>

</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>

<script>

async function convertPDF(){

const file = document.getElementById("pdfFile").files[0];
if(!file) return alert("Upload PDF first");

const format = document.getElementById("format").value;

const fileReader = new FileReader();

fileReader.onload = async function(){

const typedarray = new Uint8Array(this.result);

const pdf = await pdfjsLib.getDocument(typedarray).promise;

const page = await pdf.getPage(1);

const viewport = page.getViewport({scale:2});

const canvas = document.createElement("canvas");

const context = canvas.getContext("2d");

canvas.height = viewport.height;
canvas.width = viewport.width;

await page.render({
canvasContext:context,
viewport:viewport
}).promise;

const imgData = canvas.toDataURL("image/"+format);

const img = document.createElement("img");
img.src = imgData;

const link = document.createElement("a");
link.href = imgData;
link.download = "converted."+format;
link.innerText="Download Image";

link.style.display="block";
link.style.marginTop="10px";
link.style.color="#2f6edb";

const preview = document.getElementById("preview");

preview.innerHTML="";
preview.appendChild(img);
preview.appendChild(link);

};

fileReader.readAsArrayBuffer(file);

}

</script>

</body>
</html>
